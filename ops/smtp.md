# നിങ്ങളുടെ സ്വന്തം SMTP മെയിൽ അയയ്ക്കുന്ന സെർവർ നിർമ്മിക്കുക

## ആമുഖം

ഇനിപ്പറയുന്നതുപോലുള്ള ക്ലൗഡ് വെണ്ടർമാരിൽ നിന്ന് SMTP സേവനങ്ങൾ നേരിട്ട് വാങ്ങാൻ കഴിയും:

* [ആമസോൺ SES SMTP](https://docs.aws.amazon.com/ses/latest/dg/send-email-smtp.html)
* [അലി ക്ലൗഡ് ഇമെയിൽ പുഷ്](https://www.alibabacloud.com/help/directmail/latest/three-mail-sending-methods)

നിങ്ങൾക്ക് നിങ്ങളുടെ സ്വന്തം മെയിൽ സെർവർ നിർമ്മിക്കാനും കഴിയും - പരിധിയില്ലാത്ത അയയ്‌ക്കൽ, മൊത്തത്തിലുള്ള കുറഞ്ഞ ചിലവ്.

താഴെ, ഞങ്ങളുടെ സ്വന്തം മെയിൽ സെർവർ എങ്ങനെ നിർമ്മിക്കാമെന്ന് ഞങ്ങൾ ഘട്ടം ഘട്ടമായി കാണിക്കുന്നു.

## സെർവർ തിരഞ്ഞെടുക്കൽ

സ്വയം-ഹോസ്‌റ്റ് ചെയ്‌ത SMTP സെർവറിന് 25, 456, 587 തുറന്ന പോർട്ടുകളുള്ള ഒരു പൊതു ഐപി ആവശ്യമാണ്.

സാധാരണയായി ഉപയോഗിക്കുന്ന പബ്ലിക് ക്ലൗഡുകൾ ഡിഫോൾട്ടായി ഈ പോർട്ടുകളെ തടഞ്ഞു, ഒരു വർക്ക് ഓർഡർ നൽകി അവ തുറക്കാൻ കഴിഞ്ഞേക്കും, എന്നാൽ എല്ലാത്തിനുമുപരി, ഇത് വളരെ പ്രശ്‌നകരമാണ്.

ഈ പോർട്ടുകൾ തുറന്നിരിക്കുന്നതും റിവേഴ്സ് ഡൊമെയ്ൻ നാമങ്ങൾ സജ്ജീകരിക്കുന്നതിനെ പിന്തുണയ്ക്കുന്നതുമായ ഒരു ഹോസ്റ്റിൽ നിന്ന് വാങ്ങാൻ ഞാൻ ശുപാർശ ചെയ്യുന്നു.

ഇവിടെ, ഞാൻ [Contabo](https://contabo.com) ശുപാർശ ചെയ്യുന്നു.

ജർമ്മനിയിലെ മ്യൂണിച്ച് ആസ്ഥാനമായുള്ള ഒരു ഹോസ്റ്റിംഗ് ദാതാവാണ് Contabo, 2003-ൽ വളരെ മത്സരാധിഷ്ഠിതമായ വിലകളിൽ സ്ഥാപിതമായി.

നിങ്ങൾ വാങ്ങലിന്റെ കറൻസിയായി യൂറോ തിരഞ്ഞെടുക്കുകയാണെങ്കിൽ, വില കുറവായിരിക്കും (8GB മെമ്മറിയും 4 CPU-കളും ഉള്ള ഒരു സെർവറിന് പ്രതിവർഷം ഏകദേശം 529 യുവാൻ ചിലവാകും, പ്രാരംഭ ഇൻസ്റ്റലേഷൻ ഫീസ് ഒരു വർഷത്തേക്ക് സൗജന്യമാണ്).

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/UoAQkwY.webp)

ഒരു ഓർഡർ നൽകുമ്പോൾ, റിമാർക്ക് `prefer AMD` , എഎംഡി സിപിയു ഉള്ള സെർവറിന് മികച്ച പ്രകടനം ഉണ്ടാകും.

ഇനിപ്പറയുന്നതിൽ, നിങ്ങളുടെ സ്വന്തം മെയിൽ സെർവർ എങ്ങനെ നിർമ്മിക്കാമെന്ന് കാണിക്കുന്നതിന് ഞാൻ Contabo- യുടെ VPS ഒരു ഉദാഹരണമായി എടുക്കും.

## ഉബുണ്ടു സിസ്റ്റം കോൺഫിഗറേഷൻ

ഇവിടെയുള്ള ഓപ്പറേറ്റിംഗ് സിസ്റ്റം ഉബുണ്ടു 22.04 ആണ്

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/smpIu1F.webp)

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/m7Mwjwr.webp)

ssh-ലെ സെർവർ കാണിക്കുന്നുവെങ്കിൽ `Welcome to TinyCore 13!` (ചുവടെയുള്ള ചിത്രത്തിൽ കാണിച്ചിരിക്കുന്നതുപോലെ), സിസ്റ്റം ഇതുവരെ ഇൻസ്റ്റാൾ ചെയ്തിട്ടില്ല എന്നാണ് ഇതിനർത്ഥം. ദയവായി ssh വിച്ഛേദിച്ച് വീണ്ടും ലോഗിൻ ചെയ്യാൻ കുറച്ച് മിനിറ്റ് കാത്തിരിക്കുക.

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/-qKACz9.webp)

`Welcome to Ubuntu 22.04.1 LTS` ദൃശ്യമാകുമ്പോൾ, സമാരംഭിക്കൽ പൂർത്തിയായി, നിങ്ങൾക്ക് ഇനിപ്പറയുന്ന ഘട്ടങ്ങൾ തുടരാം.

### [ഓപ്ഷണൽ] വികസന അന്തരീക്ഷം ആരംഭിക്കുക

ഈ ഘട്ടം ഓപ്ഷണൽ ആണ്.

സൗകര്യാർത്ഥം, ഉബുണ്ടു സോഫ്റ്റ്‌വെയറിന്റെ ഇൻസ്റ്റാളേഷനും സിസ്റ്റം കോൺഫിഗറേഷനും ഞാൻ [github.com/wactax/ops.os/tree/main/ubuntu](https://github.com/wactax/ops.os/tree/main/ubuntu) എന്നതിൽ ഇട്ടു.

ഒറ്റ ക്ലിക്കിൽ ഇൻസ്റ്റാൾ ചെയ്യാൻ താഴെ പറയുന്ന കമാൻഡ് പ്രവർത്തിപ്പിക്കുക.

```
bash <(curl -s https://raw.githubusercontent.com/wactax/ops.os/main/ubuntu/boot.sh)
```

ചൈനീസ് ഉപയോക്താക്കൾ, ദയവായി ഇനിപ്പറയുന്ന കമാൻഡ് ഉപയോഗിക്കുക, ഭാഷ, സമയ മേഖല മുതലായവ സ്വയമേവ സജ്ജീകരിക്കപ്പെടും.

```
CN=1 bash <(curl -s https://ghproxy.com/https://raw.githubusercontent.com/wactax/ops.os/main/ubuntu/boot.sh)
```

### Contabo IPV6 പ്രവർത്തനക്ഷമമാക്കുന്നു

IPV6 പ്രവർത്തനക്ഷമമാക്കുക, അതുവഴി SMTP ന് IPV6 വിലാസങ്ങളുള്ള ഇമെയിലുകളും അയയ്‌ക്കാൻ കഴിയും.

എഡിറ്റ് `/etc/sysctl.conf`

ഇനിപ്പറയുന്ന വരികൾ പരിഷ്ക്കരിക്കുക അല്ലെങ്കിൽ ചേർക്കുക

```
net.ipv6.conf.all.disable_ipv6 = 0
net.ipv6.conf.default.disable_ipv6 = 0
net.ipv6.conf.lo.disable_ipv6 = 0
```

[Contabo ട്യൂട്ടോറിയൽ പിന്തുടരുക: നിങ്ങളുടെ സെർവറിലേക്ക് IPv6 കണക്റ്റിവിറ്റി ചേർക്കുന്നു](https://contabo.com/blog/adding-ipv6-connectivity-to-your-server/)

എഡിറ്റ് `/etc/netplan/01-netcfg.yaml` , ചുവടെയുള്ള ചിത്രത്തിൽ കാണിച്ചിരിക്കുന്നതുപോലെ കുറച്ച് വരികൾ ചേർക്കുക (Contabo VPS ഡിഫോൾട്ട് കോൺഫിഗറേഷൻ ഫയലിൽ ഇതിനകം തന്നെ ഈ വരികളുണ്ട്, അവ കമന്റ് ചെയ്യാതിരിക്കുക).

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/5MEi41I.webp)

പിന്നീട് പരിഷ്‌ക്കരിച്ച കോൺഫിഗറേഷൻ പ്രാബല്യത്തിൽ വരുത്തുന്നതിന് `netplan apply` .

കോൺഫിഗറേഷൻ വിജയിച്ച ശേഷം, നിങ്ങളുടെ ബാഹ്യ നെറ്റ്‌വർക്കിന്റെ ipv6 വിലാസം കാണുന്നതിന് നിങ്ങൾക്ക് `curl 6.ipw.cn` ഉപയോഗിക്കാം.

## കോൺഫിഗറേഷൻ റിപ്പോസിറ്ററി ഓപ്‌സ് ക്ലോൺ ചെയ്യുക

```
git clone https://github.com/wactax/ops.soft.git
```

## നിങ്ങളുടെ ഡൊമെയ്ൻ നാമത്തിനായി ഒരു സൗജന്യ SSL സർട്ടിഫിക്കറ്റ് സൃഷ്ടിക്കുക

മെയിൽ അയയ്‌ക്കുന്നതിന് എൻക്രിപ്ഷനും ഒപ്പിടാനും ഒരു SSL സർട്ടിഫിക്കറ്റ് ആവശ്യമാണ്.

സർട്ടിഫിക്കറ്റുകൾ സൃഷ്ടിക്കാൻ ഞങ്ങൾ [acme.sh](https://github.com/acmesh-official/acme.sh) ഉപയോഗിക്കുന്നു.

acme.sh ഒരു ഓപ്പൺ സോഴ്‌സ് ഓട്ടോമേറ്റഡ് സർട്ടിഫിക്കറ്റ് സൈനിംഗ് ടൂളാണ്,

കോൺഫിഗറേഷൻ വെയർഹൗസ് ops.soft നൽകുക, `./ssl.sh` പ്രവർത്തിപ്പിക്കുക, **മുകളിലെ ഡയറക്‌ടറിയിൽ** ഒരു `conf` ഫോൾഡർ സൃഷ്ടിക്കപ്പെടും.

[acme.sh dnsapi-](https://github.com/acmesh-official/acme.sh/wiki/dnsapi) ൽ നിന്ന് നിങ്ങളുടെ DNS ദാതാവിനെ കണ്ടെത്തുക, `conf/conf.sh` എഡിറ്റ് ചെയ്യുക.

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/Qjq1C1i.webp)

തുടർന്ന് നിങ്ങളുടെ ഡൊമെയ്ൻ നാമത്തിനായി `123.com` , `*.123.com` സർട്ടിഫിക്കറ്റുകൾ സൃഷ്ടിക്കാൻ `./ssl.sh 123.com` പ്രവർത്തിപ്പിക്കുക.

ആദ്യ റൺ യാന്ത്രികമായി [acme.sh](https://github.com/acmesh-official/acme.sh) ഇൻസ്റ്റാൾ ചെയ്യുകയും യാന്ത്രിക പുതുക്കലിനായി ഒരു ഷെഡ്യൂൾ ചെയ്ത ടാസ്ക് ചേർക്കുകയും ചെയ്യും. നിങ്ങൾക്ക് കാണാം `crontab -l` , താഴെപ്പറയുന്ന ഒരു വരിയുണ്ട്.

```
52 0 * * * "/mnt/www/.acme.sh"/acme.sh --cron --home "/mnt/www/.acme.sh" > /dev/null
```

സൃഷ്‌ടിച്ച സർട്ടിഫിക്കറ്റിന്റെ പാത `/mnt/www/.acme.sh/123.com_ecc。`

സർട്ടിഫിക്കറ്റ് പുതുക്കൽ `conf/reload/123.com.sh` സ്ക്രിപ്റ്റ് വിളിക്കും, ഈ സ്ക്രിപ്റ്റ് എഡിറ്റ് ചെയ്യുക, ബന്ധപ്പെട്ട ആപ്ലിക്കേഷനുകളുടെ സർട്ടിഫിക്കറ്റ് കാഷെ പുതുക്കുന്നതിന് നിങ്ങൾക്ക് `nginx -s reload` പോലുള്ള കമാൻഡുകൾ ചേർക്കാൻ കഴിയും.

## ചാസ്‌ക്വിഡ് ഉപയോഗിച്ച് SMTP സെർവർ നിർമ്മിക്കുക

ഗോ ഭാഷയിൽ എഴുതിയ ഒരു ഓപ്പൺ സോഴ്‌സ് SMTP സെർവറാണ് [chasquid](https://github.com/albertito/chasquid) .

പുരാതന മെയിൽ സെർവർ പ്രോഗ്രാമുകളായ Postfix, Sendmail എന്നിവയ്ക്ക് പകരമായി, chasquid ലളിതവും ഉപയോഗിക്കാൻ എളുപ്പവുമാണ്, കൂടാതെ ദ്വിതീയ വികസനത്തിനും ഇത് എളുപ്പമാണ്.

റൺ `./chasquid/init.sh 123.com` ഒറ്റ ക്ലിക്കിൽ സ്വയമേവ ഇൻസ്റ്റാൾ ചെയ്യപ്പെടും (നിങ്ങളുടെ അയയ്‌ക്കുന്ന ഡൊമെയ്‌ൻ നാമം ഉപയോഗിച്ച് 123.com മാറ്റിസ്ഥാപിക്കുക).

## ഇമെയിൽ ഒപ്പ് DKIM കോൺഫിഗർ ചെയ്യുക

കത്തുകൾ സ്പാം ആയി കണക്കാക്കുന്നത് തടയാൻ ഇമെയിൽ ഒപ്പുകൾ അയക്കാൻ DKIM ഉപയോഗിക്കുന്നു.

കമാൻഡ് വിജയകരമായി പ്രവർത്തിച്ചതിനുശേഷം, DKIM റെക്കോർഡ് സജ്ജമാക്കാൻ നിങ്ങളോട് ആവശ്യപ്പെടും (ചുവടെ കാണിച്ചിരിക്കുന്നത് പോലെ).

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/LJWGsmI.webp)

നിങ്ങളുടെ DNS-ലേക്ക് ഒരു TXT റെക്കോർഡ് ചേർക്കുക (ചുവടെ കാണിച്ചിരിക്കുന്നത് പോലെ).

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/0szKWqV.webp)

## സേവന നിലയും ലോഗുകളും കാണുക

 `systemctl status chasquid` സേവന നില കാണുക.

സാധാരണ പ്രവർത്തനത്തിന്റെ അവസ്ഥ ചുവടെയുള്ള ചിത്രത്തിൽ കാണിച്ചിരിക്കുന്നു

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/CAwyY4E.webp)

 `grep chasquid /var/log/syslog` അല്ലെങ്കിൽ `journalctl -xeu chasquid` പിശക് ലോഗ് കാണാൻ കഴിയും.

## റിവേഴ്സ് ഡൊമെയ്ൻ നെയിം കോൺഫിഗറേഷൻ

റിവേഴ്സ് ഡൊമെയ്ൻ നാമം IP വിലാസം അനുബന്ധ ഡൊമെയ്ൻ നാമത്തിലേക്ക് പരിഹരിക്കാൻ അനുവദിക്കുന്നതാണ്.

ഒരു റിവേഴ്സ് ഡൊമെയ്ൻ നാമം സജ്ജീകരിക്കുന്നത് ഇമെയിലുകൾ സ്പാം ആയി തിരിച്ചറിയുന്നത് തടയാം.

മെയിൽ ലഭിക്കുമ്പോൾ, അയയ്‌ക്കുന്ന സെർവറിന് സാധുവായ റിവേഴ്‌സ് ഡൊമെയ്‌ൻ നാമം ഉണ്ടോ എന്ന് സ്ഥിരീകരിക്കുന്നതിന്, അയയ്‌ക്കുന്ന സെർവറിന്റെ IP വിലാസത്തിൽ സ്വീകരിക്കുന്ന സെർവർ റിവേഴ്‌സ് ഡൊമെയ്‌ൻ നാമ വിശകലനം നടത്തും.

അയയ്ക്കുന്ന സെർവറിന് റിവേഴ്സ് ഡൊമെയ്ൻ നാമം ഇല്ലെങ്കിലോ റിവേഴ്സ് ഡൊമെയ്ൻ നാമം അയയ്ക്കുന്ന സെർവറിന്റെ IP വിലാസവുമായി പൊരുത്തപ്പെടുന്നില്ലെങ്കിൽ, സ്വീകരിക്കുന്ന സെർവർ ഇമെയിൽ സ്പാം ആയി തിരിച്ചറിയുകയോ നിരസിക്കുകയോ ചെയ്യാം.

[https://my.contabo.com/rdns](https://my.contabo.com/rdns) സന്ദർശിച്ച് താഴെ കാണിച്ചിരിക്കുന്നത് പോലെ കോൺഫിഗർ ചെയ്യുക

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/IIPdBk_.webp)

റിവേഴ്സ് ഡൊമെയ്ൻ നാമം സജ്ജീകരിച്ച ശേഷം, ipv4, ipv6 എന്നീ ഡൊമെയ്ൻ നാമങ്ങളുടെ ഫോർവേഡ് റെസല്യൂഷൻ സെർവറിലേക്ക് കോൺഫിഗർ ചെയ്യാൻ ഓർമ്മിക്കുക.

## chasquid.conf ന്റെ ഹോസ്റ്റ്നാമം എഡിറ്റ് ചെയ്യുക

വിപരീത ഡൊമെയ്ൻ നാമത്തിന്റെ മൂല്യത്തിലേക്ക് `conf/chasquid/chasquid.conf` പരിഷ്ക്കരിക്കുക.

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/6Fw4SQi.webp)

തുടർന്ന് സേവനം പുനരാരംഭിക്കുന്നതിന് `systemctl restart chasquid` പ്രവർത്തിപ്പിക്കുക.

## conf ബാക്കപ്പ് git റിപ്പോസിറ്ററിയിലേക്ക്

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/Fier9uv.webp)

ഉദാഹരണത്തിന്, ഞാൻ എന്റെ സ്വന്തം ഗിത്തബ് പ്രോസസിലേക്ക് conf ഫോൾഡർ ഇനിപ്പറയുന്ന രീതിയിൽ ബാക്കപ്പ് ചെയ്യുന്നു

ആദ്യം ഒരു സ്വകാര്യ വെയർഹൗസ് ഉണ്ടാക്കുക

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/ZSCT1t1.webp)

conf ഡയറക്ടറി നൽകി വെയർഹൗസിലേക്ക് സമർപ്പിക്കുക

```
git init
git add .
git commit -m "init"
git branch -M main
git remote add origin git@github.com:wac-tax-key/conf.git
git push -u origin main
```

## അയച്ചയാളെ ചേർക്കുക

ഓടുക

```
chasquid-util user-add i@wac.tax
```

അയച്ചയാളെ ചേർക്കാം

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/khHjLof.webp)

### പാസ്‌വേഡ് ശരിയായി സജ്ജീകരിച്ചിട്ടുണ്ടോയെന്ന് പരിശോധിക്കുക

```
chasquid-util authenticate i@wac.tax --password=xxxxxxx
```

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/e92JHXq.webp)

ഉപയോക്താവിനെ ചേർത്തതിന് ശേഷം, `chasquid/domains/wac.tax/users` അപ്‌ഡേറ്റ് ചെയ്യപ്പെടും, അത് വെയർഹൗസിൽ സമർപ്പിക്കാൻ ഓർക്കുക.

## DNS SPF റെക്കോർഡ് ചേർക്കുക

ഇമെയിൽ തട്ടിപ്പ് തടയാൻ ഉപയോഗിക്കുന്ന ഒരു ഇമെയിൽ സ്ഥിരീകരണ സാങ്കേതികവിദ്യയാണ് SPF (Sender Policy Framework).

അയച്ചയാളുടെ ഐപി വിലാസം അത് അവകാശപ്പെടുന്ന ഡൊമെയ്‌ൻ നാമത്തിന്റെ ഡിഎൻഎസ് രേഖകളുമായി പൊരുത്തപ്പെടുന്നുണ്ടോയെന്ന് പരിശോധിച്ച് ഇത് മെയിൽ അയയ്‌ക്കുന്നയാളുടെ ഐഡന്റിറ്റി സ്ഥിരീകരിക്കുന്നു, വ്യാജ ഇമെയിലുകൾ അയയ്‌ക്കുന്നതിൽ നിന്ന് തട്ടിപ്പുകാർ തടയുന്നു.

SPF റെക്കോർഡുകൾ ചേർക്കുന്നത് ഇമെയിലുകൾ സ്പാം ആയി തിരിച്ചറിയുന്നത് പരമാവധി തടയാം.

നിങ്ങളുടെ ഡൊമെയ്ൻ നെയിം സെർവർ SPF തരത്തെ പിന്തുണയ്ക്കുന്നില്ലെങ്കിൽ, TXT ടൈപ്പ് റെക്കോർഡ് ചേർക്കുക.

ഉദാഹരണത്തിന്, `wac.tax` ന്റെ SPF ഇനിപ്പറയുന്നതാണ്

`v=spf1 a mx include:_spf.wac.tax include:_spf.google.com ~all`

`_spf.wac.tax` നുള്ള SPF

`v=spf1 a:smtp.wac.tax ~all`

ഞാൻ ഇവിടെ `include:_spf.google.com` എന്ന കാര്യം ശ്രദ്ധിക്കുക, കാരണം ഞാൻ പിന്നീട് Google മെയിൽബോക്സിൽ അയയ്ക്കുന്ന വിലാസമായി `i@wac.tax` കോൺഫിഗർ ചെയ്യും.

## DNS കോൺഫിഗറേഷൻ DMARC

(ഡൊമെയ്ൻ അടിസ്ഥാനമാക്കിയുള്ള സന്ദേശ പ്രാമാണീകരണം, റിപ്പോർട്ടിംഗ് & അനുരൂപീകരണം) എന്നതിന്റെ ചുരുക്കമാണ് DMARC.

SPF ബൗൺസുകൾ ക്യാപ്‌ചർ ചെയ്യാൻ ഇത് ഉപയോഗിക്കുന്നു (ഒരുപക്ഷേ കോൺഫിഗറേഷൻ പിശകുകൾ മൂലമാകാം, അല്ലെങ്കിൽ സ്‌പാം അയയ്‌ക്കാൻ മറ്റാരെങ്കിലും നിങ്ങളാണെന്ന് നടിക്കുന്നു).

TXT റെക്കോർഡ് `_dmarc` ചേർക്കുക,

ഉള്ളടക്കം ഇപ്രകാരമാണ്

```
v=DMARC1; p=quarantine; fo=1; ruf=mailto:ruf@wac.tax; rua=mailto:rua@wac.tax
```

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/k44P7O3.webp)

ഓരോ പാരാമീറ്ററിന്റെയും അർത്ഥം ഇപ്രകാരമാണ്

### പി (നയം)

SPF (Sender Policy Framework) അല്ലെങ്കിൽ DKIM (DomainKeys ഐഡന്റിഫൈഡ് മെയിൽ) പരിശോധനയിൽ പരാജയപ്പെടുന്ന ഇമെയിലുകൾ എങ്ങനെ കൈകാര്യം ചെയ്യണമെന്ന് സൂചിപ്പിക്കുന്നു. പി പാരാമീറ്റർ മൂന്ന് മൂല്യങ്ങളിൽ ഒന്നായി സജ്ജീകരിക്കാം:

* ഒന്നുമില്ല: ഒരു നടപടിയും എടുത്തിട്ടില്ല, ഇമെയിൽ റിപ്പോർട്ടിംഗ് സംവിധാനം വഴി സ്ഥിരീകരണ ഫലം മാത്രമേ അയച്ചയാൾക്ക് തിരികെ നൽകൂ.
* ക്വാറന്റൈൻ: വെരിഫിക്കേഷൻ പാസ്സാക്കാത്ത മെയിൽ സ്പാം ഫോൾഡറിലേക്ക് ഇടുക, എന്നാൽ മെയിൽ നേരിട്ട് നിരസിക്കില്ല.
* നിരസിക്കുക: സ്ഥിരീകരണം പരാജയപ്പെടുന്ന ഇമെയിലുകൾ നേരിട്ട് നിരസിക്കുക.

### ഫോ (പരാജയ ഓപ്ഷനുകൾ)

റിപ്പോർട്ടിംഗ് സംവിധാനം നൽകുന്ന വിവരങ്ങളുടെ അളവ് വ്യക്തമാക്കുന്നു. ഇത് ഇനിപ്പറയുന്ന മൂല്യങ്ങളിലൊന്നിലേക്ക് സജ്ജമാക്കാൻ കഴിയും:

* 0: എല്ലാ സന്ദേശങ്ങൾക്കും മൂല്യനിർണ്ണയ ഫലങ്ങൾ റിപ്പോർട്ട് ചെയ്യുക
* 1: സ്ഥിരീകരണം പരാജയപ്പെടുന്ന സന്ദേശങ്ങൾ മാത്രം റിപ്പോർട്ട് ചെയ്യുക
* d: ഡൊമെയ്ൻ നാമം സ്ഥിരീകരണ പരാജയങ്ങൾ മാത്രം റിപ്പോർട്ട് ചെയ്യുക
* s: SPF പരിശോധന പരാജയങ്ങൾ മാത്രം റിപ്പോർട്ട് ചെയ്യുക
* l: DKIM പരിശോധന പരാജയങ്ങൾ മാത്രം റിപ്പോർട്ട് ചെയ്യുക

### റുവാ & റൂഫ്

* rua (അഗ്രഗേറ്റ് റിപ്പോർട്ടുകൾക്കായി URI റിപ്പോർട്ടുചെയ്യുന്നു): സമാഹരിച്ച റിപ്പോർട്ടുകൾ സ്വീകരിക്കുന്നതിനുള്ള ഇമെയിൽ വിലാസം
* ruf (ഫോറൻസിക് റിപ്പോർട്ടുകൾക്കായുള്ള URI റിപ്പോർട്ടുചെയ്യൽ): വിശദമായ റിപ്പോർട്ടുകൾ ലഭിക്കുന്നതിനുള്ള ഇമെയിൽ വിലാസം

## Google മെയിലിലേക്ക് ഇമെയിലുകൾ കൈമാറാൻ MX റെക്കോർഡുകൾ ചേർക്കുക

സാർവത്രിക വിലാസങ്ങളെ പിന്തുണയ്‌ക്കുന്ന ഒരു സൗജന്യ കോർപ്പറേറ്റ് മെയിൽബോക്‌സ് എനിക്ക് കണ്ടെത്താൻ കഴിയാത്തതിനാൽ (പ്രിഫിക്‌സുകളിൽ നിയന്ത്രണങ്ങളില്ലാതെ ഈ ഡൊമെയ്‌ൻ നാമത്തിലേക്ക് അയച്ച എല്ലാ ഇമെയിലുകളും ക്യാച്ച്-എല്ലാവർക്കും ലഭിക്കും), എല്ലാ ഇമെയിലുകളും എന്റെ Gmail മെയിൽബോക്‌സിലേക്ക് കൈമാറാൻ ഞാൻ ചാസ്‌ക്വിഡ് ഉപയോഗിച്ചു.

**നിങ്ങൾക്ക് സ്വന്തമായി പണമടച്ചുള്ള ബിസിനസ്സ് മെയിൽബോക്സ് ഉണ്ടെങ്കിൽ, ദയവായി MX പരിഷ്ക്കരിക്കരുത്, ഈ ഘട്ടം ഒഴിവാക്കുക.**

`conf/chasquid/domains/wac.tax/aliases` എഡിറ്റ് ചെയ്യുക, ഫോർവേഡിംഗ് മെയിൽബോക്സ് സജ്ജമാക്കുക

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/OBDl2gw.webp)

`*` എല്ലാ ഇമെയിലുകളെയും സൂചിപ്പിക്കുന്നു, മുകളിൽ സൃഷ്‌ടിച്ച അയയ്‌ക്കുന്ന ഉപയോക്താവിന്റെ ഇമെയിൽ വിലാസ പ്രിഫിക്‌സാണ് `i` . മെയിൽ ഫോർവേഡ് ചെയ്യുന്നതിന്, ഓരോ ഉപയോക്താവിനും ഒരു ലൈൻ ചേർക്കേണ്ടതുണ്ട്.

തുടർന്ന് MX റെക്കോർഡ് ചേർക്കുക (ചുവടെയുള്ള ചിത്രത്തിൽ ആദ്യ വരിയിൽ കാണിച്ചിരിക്കുന്നതുപോലെ, റിവേഴ്സ് ഡൊമെയ്ൻ നാമത്തിന്റെ വിലാസത്തിലേക്ക് ഞാൻ നേരിട്ട് പോയിന്റ് ചെയ്യുന്നു).

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/7__KrU8.webp)

കോൺഫിഗറേഷൻ പൂർത്തിയായ ശേഷം, നിങ്ങൾക്ക് Gmail-ൽ ഇമെയിലുകൾ ലഭിക്കുമോ എന്നറിയാൻ `i@wac.tax` , `any123@wac.tax` എന്നിവയിലേക്ക് ഇമെയിലുകൾ അയയ്‌ക്കാൻ മറ്റ് ഇമെയിൽ വിലാസങ്ങൾ ഉപയോഗിക്കാം.

ഇല്ലെങ്കിൽ, chasquid ലോഗ് പരിശോധിക്കുക ( `grep chasquid /var/log/syslog` ).

## Google മെയിൽ ഉപയോഗിച്ച് i@wac.tax-ലേക്ക് ഒരു ഇമെയിൽ അയയ്‌ക്കുക

ഗൂഗിൾ മെയിലിന് മെയിൽ ലഭിച്ചതിന് ശേഷം, i.wac.tax@gmail.com എന്നതിന് പകരം `i@wac.tax` എന്ന് മറുപടി നൽകാൻ ഞാൻ സ്വാഭാവികമായും പ്രതീക്ഷിച്ചു.

[https://mail.google.com/mail/u/1/#settings/accounts](https://mail.google.com/mail/u/1/#settings/accounts) സന്ദർശിച്ച് "മറ്റൊരു ഇമെയിൽ വിലാസം ചേർക്കുക" ക്ലിക്ക് ചെയ്യുക.

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/PAvyE3C.webp)

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/_OgLsPT.webp)

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/XIUf6Dc.webp)

തുടർന്ന്, അയച്ച ഇമെയിലിന് ലഭിച്ച സ്ഥിരീകരണ കോഡ് നൽകുക.

അവസാനമായി, ഇത് ഡിഫോൾട്ട് അയച്ചയാളുടെ വിലാസമായി സജ്ജീകരിക്കാം (അതേ വിലാസത്തിൽ മറുപടി നൽകാനുള്ള ഓപ്ഷനോടൊപ്പം).

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/a95dO60.webp)

ഈ രീതിയിൽ, ഞങ്ങൾ SMTP മെയിൽ സെർവറിന്റെ സ്ഥാപനം പൂർത്തിയാക്കി, അതേ സമയം ഇമെയിലുകൾ അയയ്‌ക്കാനും സ്വീകരിക്കാനും Google മെയിൽ ഉപയോഗിക്കുക.

## കോൺഫിഗറേഷൻ വിജയകരമാണോ എന്ന് പരിശോധിക്കാൻ ഒരു ടെസ്റ്റ് ഇമെയിൽ അയയ്ക്കുക

`ops/chasquid` നൽകുക

ഡിപൻഡൻസികൾ ഇൻസ്റ്റാൾ ചെയ്യാൻ `direnv allow` റൺ ചെയ്യുക (മുമ്പത്തെ ഒരു കീ ഇനീഷ്യലൈസേഷൻ പ്രക്രിയയിൽ direnv ഇൻസ്റ്റാൾ ചെയ്തിട്ടുണ്ട്, കൂടാതെ ഷെല്ലിലേക്ക് ഒരു ഹുക്ക് ചേർത്തിട്ടുണ്ട്)

പിന്നെ ഓടുക

```
user=i@wac.tax pass=xxxx to=iuser.link@gmail.com ./sendmail.coffee
```

പരാമീറ്ററുകളുടെ അർത്ഥം ഇപ്രകാരമാണ്

* ഉപയോക്താവ്: SMTP ഉപയോക്തൃനാമം
* പാസ്സ്: SMTP പാസ്വേഡ്
* ലേക്ക്: സ്വീകർത്താവ്

നിങ്ങൾക്ക് ഒരു ടെസ്റ്റ് ഇമെയിൽ അയയ്ക്കാം.

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/ae1iWyM.webp)

കോൺഫിഗറേഷനുകൾ വിജയകരമാണോ എന്ന് പരിശോധിക്കാൻ ടെസ്റ്റ് ഇമെയിലുകൾ സ്വീകരിക്കുന്നതിന് Gmail ഉപയോഗിക്കാൻ ശുപാർശ ചെയ്യുന്നു.

### TLS സ്റ്റാൻഡേർഡ് എൻക്രിപ്ഷൻ

ചുവടെയുള്ള ചിത്രത്തിൽ കാണിച്ചിരിക്കുന്നതുപോലെ, ഈ ചെറിയ ലോക്ക് ഉണ്ട്, അതായത് SSL സർട്ടിഫിക്കറ്റ് വിജയകരമായി പ്രവർത്തനക്ഷമമാക്കി എന്നാണ്.

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/SrdbAwh.webp)

തുടർന്ന് "ഒറിജിനൽ ഇമെയിൽ കാണിക്കുക" ക്ലിക്ക് ചെയ്യുക

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/qQQsdxg.webp)

### ഡി.കെ.ഐ.എം

ചുവടെയുള്ള ചിത്രത്തിൽ കാണിച്ചിരിക്കുന്നതുപോലെ, Gmail യഥാർത്ഥ മെയിൽ പേജ് DKIM പ്രദർശിപ്പിക്കുന്നു, അതായത് DKIM കോൺഫിഗറേഷൻ വിജയിച്ചു എന്നാണ്.

![](https://pub-b8db533c86124200a9d799bf3ba88099.r2.dev/2023/03/an6aXK6.webp)

യഥാർത്ഥ ഇമെയിലിന്റെ തലക്കെട്ടിൽ സ്വീകരിച്ചത് പരിശോധിക്കുക, അയച്ചയാളുടെ വിലാസം IPV6 ആണെന്ന് നിങ്ങൾക്ക് കാണാൻ കഴിയും, അതായത് IPV6-ഉം വിജയകരമായി ക്രമീകരിച്ചിരിക്കുന്നു എന്നാണ്.
